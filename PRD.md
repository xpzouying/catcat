# 逗猫游戏网站 - 产品需求文档(PRD)

## 1. 产品概述

### 1.1 产品定位
一个专为猫咪设计的互动网页游戏，通过模拟猎物移动来吸引猫咪注意力，让猫咪在iPad/平板上通过触摸屏幕进行互动游戏。

### 1.2 目标用户
- 主要用户：家养猫咪
- 操作用户：猫主人（进行设置和控制）

### 1.3 使用场景
- 猫主人不在家时，为猫咪提供娱乐
- 日常陪伴猫咪玩耍的辅助工具
- 激发室内猫的狩猎本能，增加运动量

## 2. 核心功能（MVP版本）

### 2.1 虚拟猎物系统
**功能描述：**
- 屏幕上显示一个虚拟"小老鼠"（初版用圆球代替）
- 小老鼠自动在屏幕上游动，模拟真实猎物的移动模式

**移动模式：**
- 随机游动：不规则的曲线运动，模拟小动物的移动
- 速度变化：偶尔加速、减速，增加真实感
- 方向变化：随机改变方向，避免可预测性
- 边界反弹：碰到屏幕边缘时自然反弹

### 2.2 触摸交互系统
**功能描述：**
- 检测猫爪触摸屏幕的位置
- 判断是否"抓到"小老鼠（触摸点与小老鼠位置的距离判定）

**交互反馈：**
- **抓到时的反应：**
  - 小老鼠立即快速逃离（速度提升2-3倍）
  - 逃离方向为远离触摸点的方向
  - 可能伴随短暂的"惊吓"动画（如颤抖）
  - 播放声音效果（可选）

### 2.3 速度控制系统
**功能描述：**
- 提供速度调节滑块（1-10级）
- 实时调整小老鼠的移动速度

**速度级别设计：**
- 1-3级：慢速，适合老年猫或懒猫
- 4-6级：中速，适合大部分猫咪
- 7-10级：快速，适合年轻活跃的猫

### 2.4 全屏模式
**功能描述：**
- 支持全屏显示，隐藏所有UI控件
- 全屏状态下，控制面板自动隐藏
- 长按屏幕角落（3秒）退出全屏

## 3. 界面设计

### 3.1 主界面布局
```
┌─────────────────────────────────┐
│  [全屏按钮]         [设置按钮]    │  <- 顶部控制栏
├─────────────────────────────────┤
│                                 │
│                                 │
│         游戏区域                 │  <- 主游戏区
│         (小老鼠活动区域)          │
│                                 │
│                                 │
├─────────────────────────────────┤
│  速度: [━━━━━●━━━━] 5           │  <- 底部控制栏
└─────────────────────────────────┘
```

### 3.2 视觉设计原则（基于猫咪视觉研究）
**背景颜色选择：**
- **主选方案：** 深灰色背景（#2a2a2a）
- **原因：** 猫咪在暗光环境下视觉更敏锐，深色背景能让猎物更突出

**小老鼠视觉设计：**
- **初版形状：** 简单圆形（20-30px直径）
- **颜色方案：** 亮蓝色（#4A90E2）或黄绿色（#7ED321）
- **科学依据：** 猫咪最能识别蓝色和黄绿色，这些颜色在它们眼中最鲜明
- **动态效果：** 添加微弱的脉动效果，模拟呼吸

**动画规格：**
- **帧率：** 60fps确保流畅度
- **移动轨迹：** 贝塞尔曲线，模拟自然移动
- **控制栏：** 半透明白色（rgba(255,255,255,0.1)），最小化视觉干扰

### 3.3 响应式设计
- 自适应不同屏幕尺寸（手机、平板、电脑）
- 重点优化iPad横屏体验
- 触摸区域优化，考虑猫爪大小

## 4. 交互细节

### 4.1 小老鼠行为逻辑
```javascript
// 伪代码示例
移动行为 {
  基础速度 = 用户设置的速度
  当前速度 = 基础速度 * 随机系数(0.8-1.2)
  
  每帧更新 {
    if (随机概率 < 0.02) {
      改变方向(随机角度)
    }
    if (随机概率 < 0.01) {
      短暂加速或减速
    }
    更新位置
    检测边界碰撞
  }
}

被抓行为 {
  if (检测到触摸 && 触摸点靠近老鼠) {
    计算逃离方向 = 老鼠位置 - 触摸位置
    速度 = 基础速度 * 3
    快速移动(逃离方向, 持续0.5秒)
    恢复正常移动
  }
}
```

### 4.2 触摸检测逻辑
- **检测范围：** 老鼠周围50-80像素范围内算作"抓到"
- **多点触摸：** 支持多个触摸点，老鼠逃离最近的触摸点
- **防误触：** 控制栏区域的触摸不触发游戏逻辑
- **逃跑距离：** 向触摸点相反方向快速移动屏幕宽度的1/3距离
- **逃跑速度：** 瞬间加速到基础速度的3倍，持续0.5秒后逐渐恢复

## 5. 技术要求

### 5.1 性能要求
- 动画流畅度：≥60fps
- 响应延迟：<50ms
- 内存占用：<100MB
- 电池消耗：优化长时间运行

### 5.2 兼容性要求
- 浏览器：Safari（iOS）、Chrome、Firefox
- 设备：iPad Pro、iPad Air、iPad mini、iPhone（辅助）
- 系统：iOS 14+、Android 10+

### 5.3 无障碍设计
- 支持横屏和竖屏模式
- 简化的操作流程
- 清晰的视觉反馈

## 6. 第二阶段功能（扩展）

### 6.1 自定义猎物外观
- 上传猫咪照片替代默认圆球
- 提供多种预设图案选择
- 调整猎物大小

### 6.2 游戏统计
- 记录猫咪的游戏时长
- 统计"抓到"次数
- 生成活动报告

### 6.3 多猎物模式
- 同时显示多个猎物
- 不同猎物有不同行为模式

### 6.4 声音系统
- **MVP版本决策：** 不添加声音
- **原因：** 
  - 许多猫对电子声音反应不佳
  - 静音游戏让猫更专注于视觉追踪
  - 避免惊吓胆小的猫
- **未来可选：** 提供声音开关，默认关闭

## 7. 成功指标

### 7.1 用户体验指标
- 猫咪平均游戏时长 > 5分钟
- 猫咪重复游戏率 > 70%
- 主人满意度 > 4.5/5

### 7.2 技术指标
- 页面加载时间 < 2秒
- 无崩溃率 > 99.9%
- 跨设备兼容性 > 95%

## 8. 开发优先级

### P0 - 必须有（MVP）
1. 基础小老鼠移动动画
2. 触摸检测和逃跑逻辑
3. 速度控制
4. 全屏功能

### P1 - 应该有
1. 优化动画流畅度
2. 改进移动算法
3. 添加更多视觉效果

### P2 - 可以有
1. 自定义外观
2. 声音系统
3. 游戏统计

## 9. 风险和限制

### 9.1 技术风险
- 不同设备的触摸灵敏度差异
- 浏览器性能限制
- 全屏API的兼容性问题

### 9.2 用户风险
- 猫咪可能对屏幕造成划痕
- 长时间游戏可能导致猫咪疲劳

### 9.3 缓解措施
- 提供设备保护建议
- 添加定时休息提醒
- 优化代码确保跨平台兼容